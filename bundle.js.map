{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./scripts/background.js","webpack:///./scripts/controller.js","webpack:///./scripts/game.js","webpack:///./scripts/ghost.js","webpack:///./scripts/physics.js","webpack:///./scripts/player.js","webpack:///./scripts/sanik.js","webpack:///./scripts/script.js","webpack:///./scripts/sprite.js","webpack:///./scripts/touch_controller.js","webpack:///./scripts/world.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;ACnEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;;AAEA;;;;;;;;;;;;;ACvBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;;;;;;;;;;;;;AClCA;AAMC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,uBAAuB,yDAAyD;AAChF,aAAa,yBAAyB;AACtC,uBAAuB,kBAAkB;AACzC;AACA;;;;;;;;;;;;;;;;;;;;AC/EA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/DA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;ACrBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;AC5CA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,uBAAuB,gBAAgB;AACvC;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,OAAO,mBAAmB;AAC1B,OAAO,oBAAoB;AAC3B,OAAO,oBAAoB;AAC3B,OAAO,qBAAqB;AAC5B,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO,mBAAmB;AAC1B,OAAO,oBAAoB;AAC3B,OAAO,oBAAoB;AAC3B,OAAO,qBAAqB;AAC5B,OAAO,qBAAqB;AAC5B,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO,oBAAoB;AAC3B,OAAO,qBAAqB;AAC5B,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO,sBAAsB;AAC7B,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,cAAc;AACxB,UAAU;AACV;AACA;;AAEA;;;;;;;;;;;;;;;ACnHA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;ACtCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxEA;AAAA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,4BAA4B,eAAe,qBAAqB;AAChE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./scripts/script.js\");\n","import Sprite from './sprite';\n\nconst mushroomKingdom = new Image();\nmushroomKingdom.src = './assets/mushroom_kingdom.png';\n\nconst bgDefaults = {\n  image: mushroomKingdom,\n  sourceX: 0,\n  sourceY: 0,\n  sourceWidth: 900,\n  sourceHeight: 300,\n  destX: 0,\n  destY: 0,\n  destWidth: 900,\n  destHeight: 307\n};\n\nexport default class Background extends Sprite {\n  constructor(context, options) {\n    const settings = Object.assign({}, bgDefaults, options);\n    super(context, settings);\n  }\n\n}\n","const controller = (player) => {\n  document.addEventListener('keydown', (e) => {\n    switch (e.code) {\n      case \"ArrowRight\":\n      case \"KeyD\":\n        player.right();\n        break;\n      case \"ArrowLeft\":\n      case \"KeyA\":\n        player.left();\n        break;\n      case \"Space\":\n      case \"ArrowUp\":\n      case \"KeyW\":\n        player.jump();\n        break;\n      default:\n        null\n    }\n  })\n  document.addEventListener('keyup', (e) => {\n    switch (e.code) {\n      case \"ArrowRight\":\n      case \"KeyD\":\n      case \"ArrowLeft\":\n      case \"KeyA\":\n        player.stop();\n        break;\n      default:\n        null\n    }\n  })\n}\n\nexport default controller;\n","import Sanik from './sanik';\nimport Ghost, {\n  inkySettings,\n  pinkySettings,\n  blinkySettings,\n  clydeSettings\n} from './ghost';\nimport Background from './background';\nimport physics from './physics';\nimport Player from './player';\nimport controller from './controller';\nimport touchController from './touch_controller';\nimport World from './world';\n\nconst canvas = document.getElementById('canvas');\nconst ctx = canvas.getContext('2d');\n\nconst sanik = new Sanik(ctx);\nconst player = new Player(sanik);\n\n\nconst inky = new Ghost(ctx, inkySettings);\nconst blinky = new Ghost(ctx, blinkySettings);\nconst pinky = new Ghost(ctx, pinkySettings);\nconst clyde = new Ghost(ctx, clydeSettings);\n\nconst background = new Background(ctx);\n\nconst world = new World(sanik, background, [inky, blinky, pinky, clyde]);\n\nexport default class Game {\n  constructor() {\n    this.player = player;\n    this.background = background;\n    this.physics = physics;\n    this.world = world;\n    this.inky = inky;\n    this.blinky = blinky;\n    this.pinky = pinky;\n    this.clyde = clyde;\n\n    this.spriteArr = [\n      this.player.sprite,\n      this.inky,\n      this.blinky,\n      this.pinky,\n      this.clyde,\n      this.background,\n    ]\n\n    this.spriteRenderOrder = this.spriteArr.reverse();\n\n    controller(this.player);\n    touchController(this.player);\n  }\n\n  tick () {\n    this.spriteArr.forEach((sprite) => {\n      sprite.update();\n    })\n    this.physics(this.player, this.world);\n    this.world.processWorld();\n    this.render();\n  }\n\n  render() {\n    this.spriteArr.forEach((sprite) => {\n      sprite.unRender();\n    })\n    this.background.destWidth = ctx.canvas.width;\n    this.background.sourceWidth = ctx.canvas.width;\n    this.spriteRenderOrder.forEach((sprite) => {\n      sprite.render();\n    })\n    // ctx.font = \"15px Arial\";\n    // ctx.fillText(`${this.player.sprite.destX + this.world.background.sourceX},` +\n    //   ` ${this.player.sprite.destY}`, 15, 15);\n    // ctx.fillText(`${this.world.ground}`, 15, 35);\n  }\n}\n","import Sprite from './sprite';\n\nconst ghostImg = new Image();\nghostImg.src = './assets/inky_pinky_blinky_clyde.png';\n\nexport const blinkySettings = {\n  image: ghostImg,\n  name: \"blinky\",\n  sourceX: 2,\n  sourceY: 2,\n  sourceWidth: 14,\n  sourceHeight: 14,\n  destX: 725,\n  destY: 33,\n  destWidth: 20,\n  destHeight: 20\n};\n\nexport const pinkySettings = Object.assign(\n  {},\n  blinkySettings,\n  {\n    name: 'pinky',\n    sourceY: 18,\n    destX: 1296,\n    destY: 68\n  }\n);\nexport const inkySettings = Object.assign(\n  {},\n  blinkySettings,\n  {\n    name: 'inky',\n    sourceY: 34,\n    destX: 1765,\n    destY: 84\n  }\n);\nexport const clydeSettings = Object.assign(\n  {},\n  blinkySettings,\n  {\n    name: 'clyde',\n    sourceY: 50,\n    destX: 1961,\n    destY: 116\n  }\n);\n\nexport default class Ghost extends Sprite {\n  constructor(ctx, options) {\n    super(ctx, options);\n    this.animArray = [2, 17, 34, 50, 66, 82, 97, 113];\n\n    this.animate = this.animate.bind(this);\n  }\n\n  animate () {\n    if (this.animCount % 20 === 0) {\n      const animIndex = (this.animCount / 20) % this.animArray.length;\n      this.sourceX = this.animArray[animIndex];\n    }\n  }\n}\n","const physics = (player, world) => {\n  // gravity and ground\n  if (player.sprite.destY < world.ground) {\n    if (player.sprite.destY + (player.vVel + 3) >= world.ground) {\n      player.vVel = 0;\n      player.sprite.destY = world.ground;\n    } else {\n      player.vVel += 1;\n    }\n  } else if (player.sprite.destY > world.ground) {\n    player.vVel += 1;\n  }\n  // right and left barriers\n  if (player.sprite.destX <= world.left) {\n    player.sprite.destX += 5;\n  } else if (player.sprite.destX >= world.right) {\n    player.sprite.destX -= 5;\n  }\n  player.affect();\n};\n\nexport default physics;\n","export default class Player {\n  constructor(sprite) {\n    this.sprite = sprite;\n\n    this.hVel = 0;\n    this.vVel = 0;\n  }\n\n  affect () {\n    if (this.vVel === 0) {\n      if (this.hVel === 0) {\n        this.sprite.chill();\n      } else {\n        this.sprite.walk();\n      }\n    } else if (this.vVel > 0) {\n      this.sprite.jump();\n    } else if (this.vVel < 0) {\n      this.sprite.fall();\n    }\n    this.sprite.moveVert(this.vVel);\n    this.sprite.moveHoriz(this.hVel);\n  }\n\n  left () {\n    this.sprite.facingLeft = true;\n    this.hVel = -7;\n  }\n\n  right () {\n    this.sprite.facingLeft = false;\n    this.hVel = 5;\n  }\n\n  jump () {\n    if (this.sprite.destY > 0) {\n      this.vVel -= 15;\n    }\n  }\n\n  stop () {\n    this.hVel = 0;\n  }\n\n}\n","import Sprite from './sprite';\n\nconst sanikImg = new Image();\nsanikImg.src = './assets/sonic.png';\n\nconst sonicOptions = {\n  image: sanikImg,\n  sourceX: 0,\n  sourceY: 20,\n  sourceWidth: 30,\n  sourceHeight: 40,\n  destX: 85,\n  destY: 140,\n  destWidth: 30,\n  destHeight: 40\n};\n\nexport default class Sanik extends Sprite {\n  constructor(ctx, options) {\n    const settings = Object.assign({}, sonicOptions, options);\n    super(ctx, settings);\n    this.facingLeft = false;\n    this.animArray = [{x: 0, y:0, w: 0}];\n    this.dead = false;\n\n    this.animate = this.animate.bind(this);\n    this.chill = this.chill.bind(this);\n    this.walk = this.walk.bind(this);\n\n  }\n\n  animate() {\n    if (this.flipped) {\n      this.facingLeft = !this.facingLeft;\n      this.flipped = false;\n    }\n    if (this.facingLeft) {\n      this.animArray = this.leftAnimArr;\n    }\n    if (this.animCount % this.speed === 0) {\n      const animIndex = (this.animCount / this.speed) % this.animArray.length;\n      this.sourceWidth = this.animArray[animIndex].w;\n      this.destWidth = this.animArray[animIndex].w;\n      this.sourceX = this.animArray[animIndex].x;\n      this.sourceY = this.animArray[animIndex].y;\n    }\n  }\n\n  flipImage(arr) {\n    return arr.map((pos) => {\n      return {\n        x: 984 - (pos.x + pos.w),\n        w: pos.w,\n        y: pos.y\n      };\n    });\n  }\n\n  chill () {\n    this.animArray = [\n      {x: 0, y: 20, w: 30},\n      {x: 35, y: 20, w: 30},\n      {x: 67, y: 20, w: 30},\n      {x: 100, y: 20, w: 30},\n      {x: 130, y: 20, w: 30}\n    ];\n    this.leftAnimArr = this.flipImage(this.animArray);\n    this.speed = 20;\n  }\n\n  walk () {\n    const walkArr = [\n      {x: 0, y: 62, w: 30},\n      {x: 35, y: 62, w: 34},\n      {x: 73, y: 62, w: 30},\n      {x: 108, y: 62, w: 30},\n      {x: 138, y: 62, w: 31},\n      {x: 180, y: 62, w: 35}\n    ];\n    this.animArray = walkArr.concat(walkArr.reverse());\n    this.leftAnimArr = this.flipImage(this.animArray);\n    this.speed = 5;\n  }\n\n  die () {\n    alert('Sanik has Died!');\n  }\n\n  jump () {\n    this.animArray = [\n      {x: 8, y: 255, w: 32},\n      {x: 42, y: 255, w: 33},\n      {x: 387, y: 13, w: 30}\n    ];\n    this.leftAnimArr = this.flipImage(this.animArray);\n    this.speed = 20;\n  }\n\n  fall () {\n    this.animArray = [\n      {x: 205, y: 150, w: 36},\n      {x: 242, y: 150, w: 38}\n    ];\n    this.leftAnimArr = this.flipImage(this.animArray);\n    this.speed = 20;\n  }\n\n  // spin () {\n  //   this.sourceY = 20;\n  //   const spinArr = [\n  //     {x: 204, w: 31},\n  //     {x: }\n  //   ]\n  // }\n\n}\n","import Game from './game.js';\n\nconst canvas = document.getElementById('canvas');\nconst ctx = canvas.getContext(\"2d\");\n\nconst canvasSize = () => {\n  ctx.canvas.width = window.innerWidth * 0.9;\n};\n\ncanvasSize();\n\nwindow.addEventListener('resize', () => {\n  canvasSize();\n});\n\nconst game = new Game();\n\nwindow.addEventListener('load', () => {\n  const gameLoop = setInterval(() => {\n    game.tick();\n  }, 1000 / 60);\n  window.gameLoop  = gameLoop;\n\n  // in game music\n  const music = document.getElementById('gameMusic');\n  document.getElementById('playButton').addEventListener('click', () => {\n    togglePlay(music);\n  });\n  const togglePlay = (music) => {\n    if (music.duration > 0 && music.currentTime > 0) {\n      music.pause();\n      music.currentTime = 0;\n    } else {\n      music.currentTime = 0;\n      music.play();\n    }\n  };\n  // in game music\n});\n","export default class Sprite {\n  constructor(context, options) {\n    // properties\n    this.context = context;\n    this.img = options.image;\n    this.sourceX = options.sourceX;\n    this.sourceY = options.sourceY;\n    this.sourceWidth = options.sourceWidth;\n    this.sourceHeight = options.sourceHeight;\n    this.destX = options.destX;\n    this.destY = options.destY;\n    this.destWidth = options.destWidth;\n    this.destHeight = options.destHeight;\n    this.animCount = 0;\n    this.flipped = false;\n\n    // methods\n    this.moveVert = this.moveVert.bind(this);\n    this.moveHoriz = this.moveHoriz.bind(this);\n    this.unRender = this.unRender.bind(this);\n    this.flip = this.flip.bind(this);\n    this.update = this.update.bind(this);\n    this.render = this.render.bind(this);\n  }\n\n  animate () {\n    // meant to be overwritten by child classes\n  }\n\n  moveVert(px) {\n    this.unRender();\n    this.destY += px;\n    this.render();\n  }\n\n  moveHoriz(px) {\n    this.unRender();\n    this.destX += px;\n    this.render();\n  }\n\n  flip() {\n    this.flipped = !this.flipped;\n  }\n\n  unRender() {\n    this.context.clearRect(\n      this.destX,\n      this.destY,\n      this.destWidth,\n      this.destHeight\n    );\n  }\n\n  update () {\n    this.animCount++;\n    this.animate();\n  }\n\n  render () {\n    this.context.drawImage(\n      this.img,\n      this.sourceX,\n      this.sourceY,\n      this.sourceWidth,\n      this.sourceHeight,\n      this.destX,\n      this.destY,\n      this.destWidth,\n      this.destHeight\n    );\n  }\n}\n","const touchController = (player) => {\n  const left = document.getElementById('left');\n  const right = document.getElementById('right');\n  const jump = document.getElementById('jumpButton');\n\n  const controller = document.getElementById('controller');\n\n  controller.addEventListener('mousedown', (e) => {\n    e.preventDefault();\n    switch (e.target) {\n      case left:\n        player.left();\n        break;\n      case right:\n        player.right();\n        break;\n      case jump:\n        player.jump();\n        break;\n      default:\n        null;\n    }\n  })\n  controller.addEventListener('mouseup', (e) => {\n    e.preventDefault();\n    switch (e.target) {\n      case left:\n      case right:\n        player.stop();\n        break;\n      default:\n        null;\n    }\n  });\n\n  controller.addEventListener('touchstart', (e) => {\n    e.preventDefault();\n    switch (e.target) {\n      case left:\n        player.left();\n        break;\n      case right:\n        player.right();\n        break;\n      case jump:\n        player.jump();\n        break;\n      default:\n        null;\n    }\n  });\n  controller.addEventListener('touchend', (e) => {\n    e.preventDefault();\n    switch (e.target) {\n      case left:\n      case right:\n        player.stop();\n        break;\n      default:\n        null;\n    }\n  });\n};\n\nexport default touchController;\n","export default class World {\n  constructor (sprite, background, ghosts) {\n    this.sprite = sprite;\n    this.background = background;\n    this.ghosts = ghosts;\n    this.ground = 168;\n    this.rBound = 2209;\n    this.left = 0;\n    this.right = 2209 - background.sourceX;\n    this.ghostDir = 1;\n    this.ghostSlider = 0\n\n    this.reset = this.reset.bind(this);\n    this.scrollGhosts = this.scrollGhosts.bind(this);\n  }\n\n  getSanikPos () {\n    return this.sprite.destX + this.background.sourceX;\n  }\n\n  scrollBackground () {\n    const dispWidth = this.background.context.canvas.width;\n    if (this.sprite.destX > (dispWidth * 0.8) &&\n        this.background.sourceX + dispWidth < 2630) {\n      this.background.sourceX += 5;\n      this.sprite.destX -= 5;\n      this.scrollGhosts(-1);\n    } else if (\n      this.sprite.destX < (dispWidth * 0.2) &&\n      this.background.sourceX > 0\n    ) {\n      this.background.sourceX -= 5;\n      this.sprite.destX += 5;\n      this.scrollGhosts(1);\n    }\n  }\n\n  checkForBarrier () {\n    const sanikLeft = this.getSanikPos();\n    const sanikRight = this.getSanikPos() + this.sprite.destWidth;\n    const sanikFeet = this.sprite.destY + this.sprite.destHeight;\n    if (sanikLeft <= 2306) {\n      this.left = 0;\n    } else {\n      this.left = 2306;\n    }\n    if (sanikRight <= 2306) {\n      if (sanikFeet > 138) {\n        this.right = 2210 - this.background.sourceX;\n      } else if (sanikFeet > 105) {\n        this.right = 2241 - this.background.sourceX;\n      } else if (sanikFeet > 72) {\n        this.right = 2274 - this.background.sourceX;\n      } else {\n        this.right = 2632 - this.background.sourceX;\n      }\n    }\n  }\n\n  checkForDie () {\n    if (this.sprite.dead) {\n      window.clearInterval(gameLoop);\n      const container = document.getElementById('container');\n      container.innerHTML = '<h2>Oh no! You died!</h2>'\n      this.gameOverButton();\n    }\n  }\n\n  checkForFall () {\n    const sanikPos = this.getSanikPos();\n    if (\n      (sanikPos > 255 && sanikPos < 270) ||\n      (sanikPos > 353 && sanikPos < 368) ||\n      (sanikPos > 753 && sanikPos < 792) ||\n      (sanikPos > 864 && sanikPos < 941) ||\n      (sanikPos > 1024 && sanikPos < 1036) ||\n      (sanikPos > 1168 && sanikPos < 1218) ||\n      (sanikPos > 1312 && sanikPos < 1380) ||\n      (sanikPos > 1417 && sanikPos < 1515) ||\n      (sanikPos > 1543 && sanikPos < 1565) ||\n      (sanikPos > 1633 && sanikPos < 1660) ||\n      (sanikPos > 1793 && sanikPos < 1804) ||\n      (sanikPos > 1921 && sanikPos < 1950) ||\n      (sanikPos > 2017 && sanikPos < 2060) ) {\n      this.ground = 300;\n    }\n    if (this.sprite.destY > 250) {\n      this.sprite.dead = true;\n    }\n  }\n\n  checkForGhostTouches () {\n    const sanikLeft = this.sprite.destX;\n    const sanikRight = sanikLeft + this.sprite.destWidth;\n    const sanikTop = this.sprite.destY;\n    const sanikBottom = sanikTop + this.sprite.destHeight;\n    this.ghosts.forEach((ghost) => {\n      const ghostLeft = ghost.destX;\n      const ghostRight = ghostLeft + ghost.destWidth;\n      const ghostTop = ghost.destY;\n      const ghostBottom = ghostTop + ghost.destHeight;\n      if (\n        (\n          (ghostLeft < sanikRight && ghostLeft > sanikLeft) ||\n          (ghostRight > sanikLeft && ghostRight < sanikRight)\n        ) && (\n          (ghostTop < sanikBottom && ghostTop > sanikTop) ||\n          (ghostBottom > sanikTop && ghostBottom < sanikBottom)\n        )\n      ) {\n        this.sprite.dead = true;\n      }\n    })\n  }\n\n\n  checkForPlatform () {\n    const sanikPos = this.getSanikPos();\n    if (sanikPos <= 255) {\n      this.ground = 167;\n    } else if (\n      (sanikPos >= 270 && sanikPos <= 353) ||\n      (sanikPos >= 492 && sanikPos <= 560)\n    ) {\n      this.ground = 152;\n    } else if (\n      (sanikPos >= 397 && sanikPos <= 495) &&\n      (this.sprite.destY + this.sprite.destHeight < 75)\n    ) {\n        this.ground = 35;\n    } else if (\n      (sanikPos >= 386 && sanikPos <= 512 &&\n      this.sprite.destY + this.sprite.destHeight > 75) ||\n      (sanikPos >= 1120 && sanikPos <= 1168) ||\n      (sanikPos >= 1857 && sanikPos <= 1918) ||\n      (sanikPos >= 1953 && sanikPos <= 2016)\n    ) {\n      this.ground = 101;\n    } else if (\n      (sanikPos >= 561 && sanikPos <= 624)\n    ) {\n      this.ground = 85;\n    } else if (\n      (sanikPos >= 624 && sanikPos <= 753)\n    ) {\n      this.ground = 20;\n    } else if (\n      (sanikPos > 962 && sanikPos <= 1026 &&\n      this.sprite.destY + this.sprite.destHeight < 75)\n    ) {\n      this.ground = 35\n    } else if (\n      (sanikPos >= 801 && sanikPos <= 862) ||\n      (sanikPos >= 945 && sanikPos <= 1023 &&\n      this.sprite.destY + this.sprite.destHeight > 75) ||\n      (sanikPos >= 1044 && sanikPos <= 1120) ||\n      (sanikPos >= 1808 && sanikPos <= 1857)\n    ) {\n      this.ground = 167;\n    } else if (\n      (sanikPos >= 1216 && sanikPos <= 1312)\n    ) {\n      this.ground = 53;\n    } else if (\n      (sanikPos >= 1338 && sanikPos <= 1366)\n    ) {\n      this.ground = 81;\n    } else if (\n      (sanikPos >= 1388 && sanikPos <= 1416)\n    ) {\n      this.ground = 70;\n    } else if (\n      (sanikPos >= 1514 && sanikPos <= 1544)\n    ) {\n      this.ground = 145;\n    } else if (\n      (sanikPos >= 1568 && sanikPos <= 1634)\n    ) {\n      this.ground = 131;\n    } else if (\n      (sanikPos >= 1664 && sanikPos <= 1794)\n    ) {\n      this.ground = 72;\n    } else if (\n      (sanikPos >= 1809 && sanikPos <= 1857)\n    ) {\n      this.ground = 161;\n    } else if (\n      (sanikPos >= 2066 && sanikPos <= 2630)\n    ) {\n      this.ground = 167;\n    }\n  }\n\n  checkForWin () {\n    const sanikPos = this.getSanikPos();\n    if (sanikPos >= 2546 && this.sprite.destY <= this.ground) {\n      window.clearInterval(gameLoop);\n      const container = document.getElementById('container');\n      container.innerHTML = '<h2>Congratulations! You won!</h2>'\n      this.gameOverButton();\n    }\n  }\n\n  moveGhost () {\n    if (this.sprite.animCount % 15 === 0) {\n      if (this.ghostSlider % 100 === 0) {\n        this.ghostDir *= -1;\n      }\n      this.ghosts.forEach((ghost) => {\n        ghost.destX += 3 * this.ghostDir;\n      })\n      this.ghostSlider += 5 * this.ghostDir;\n    }\n  }\n\n  reset (e) {\n    e.preventDefault();\n    window.location.href = window.location.href;\n  }\n\n  scrollGhosts (dir) {\n    this.ghosts.forEach((ghost) => {\n      ghost.destX += 7 * dir;\n    })\n  }\n\n  gameOverButton() {\n    const btn = document.createElement('button');\n    const form = document.createElement('form');\n    btn.innerText = 'Start Over';\n    btn.style = 'width: 25%; height: 150px; border-radius: 10px;';\n    form.onsubmit = this.reset;\n    form.append(btn);\n    container.append(form);\n    btn.focus();\n  }\n\n  processWorld () {\n    this.scrollBackground();\n    this.moveGhost();\n    this.checkForFall();\n    this.checkForPlatform();\n    this.checkForGhostTouches();\n    this.checkForWin();\n    this.checkForDie();\n  }\n}\n"],"sourceRoot":""}